{"version":3,"sources":["flowy.js","demo.js"],"names":["flowy","canvas","grab","release","snapping","spacingX","spacingY","blockSnap","drag","first","parent","$","document","ready","blocks","dragx","dragy","original","mouseX","mouseY","blockstemp","canvasDiv","active","paddingx","paddingy","offsetleft","offsetleftold","rearrange","lastevent","snap","i","blocko","appendTo","totalwidth","totalremove","w","filter","id","length","children","childwidth","width","innerWidth","css","a","x","offset","left","scrollLeft","y","height","top","parseInt","val","innerHeight","scrollTop","merge","push","arrowhelp","arrowx","arrowy","after","flag","idval","zwidth","removeClass","rearrangeMe","checkOffset","map","widths","mathmin","item","index","Math","min","apply","result","z","html","append","import","output","JSON","parse","blockarr","htmlSer","jsonData","stringify","data","each","jsonName","attr","jsonValue","name","value","deleteBlocks","on","event","blockGrabbed","block","targetTouches","changedTouches","clientX","clientY","which","clone","addClass","max","hasClass","undefined","remove","xpos","ypos","handler","type","blockid","grep","e","layer","foundids","allids","includes","blocknumber","fixOffset","off","images","pngs","svgs","templates","blocklist","grabme","eye","action","time","error","eyeblue","more","actionblue","timeblue","errorblue","databaseorange","actionorange","twitterorange","logred","errorred","blocklists","triggers","actions","database","twitter","loggers","log","rightcard","tempblock","tempblock2","click","setTimeout"],"mappings":";AA2feA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAzff,IAAMA,EAAQ,SAARA,EAAkBC,EAAQC,EAAMC,EAASC,EAAUC,EAAUC,GAofxDC,SAAAA,EAAWC,EAAMC,EAAOC,GACxBN,OAAAA,EAASI,EAAMC,EAAOC,GApf1BR,IACHA,EAAO,cAEJC,IACHA,EAAU,cAEPC,IACHA,EAAW,WACF,OAAA,IAGNC,IACHA,EAAW,IAERC,IACHA,EAAW,IAEbK,EAAEC,UAAUC,MAAM,WACZC,IAUAN,EAAMO,EAAOC,EAAOC,EACpBC,EAAQC,EAXRL,EAAS,GACTM,EAAa,GACbC,EAAYpB,EACZqB,GAAS,EACTC,EAAWlB,EACXmB,EAAWlB,EACXmB,EAAa,EACbC,EAAgB,EAChBC,GAAY,EACZC,GAAY,EAsIPC,SAAAA,EAAMrB,EAAMsB,EAAGC,GACjBJ,GACHnB,EAAKwB,SAASX,GAKX,IAHDY,IAAAA,EAAa,EACbC,EAAc,EAETC,EAAI,EAAGA,EAAIrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqB,EAAOD,KAAIQ,OAAQH,IAAK,EACxEI,EAAWzB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqB,EAAOD,KAAIK,IAC/CK,WAAaD,EAASE,MACjCR,GAAcM,EAASC,WAAajB,EAEpCU,GAAcM,EAASE,MAAQlB,EAGnCU,GAAczB,EAAKkC,aACd,IAAIP,EAAI,EAAGA,EAAIrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqB,EAAOD,KAAIQ,OAAQH,IAAK,EACxEI,EAAWzB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqB,EAAOD,KAAIK,IAC/CK,WAAaD,EAASE,OACjC9B,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAKZ,EAAa,EAAKC,EAAeK,EAASC,WAAa,EAAMD,EAASE,MAAQ,EAAK,MAChMF,EAASM,EAAI/B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqB,EAAOD,KAAI,GAAGe,EAAKZ,EAAa,EAAKC,EAAeK,EAASC,WAAa,EACzHN,GAAeK,EAASC,WAAajB,IAErCZ,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAKZ,EAAa,EAAKC,EAAc,MAC7IK,EAASM,EAAI/B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqB,EAAOD,KAAI,GAAGe,EAAKZ,EAAa,EAAKC,EAAeK,EAASE,MAAQ,EACpHP,GAAeK,EAASE,MAAQlB,GAKhCI,GAFJnB,EAAKmC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAON,EAAOD,KAAI,GAAGe,EAAKZ,EAAa,EAAKC,EAAcb,EAAUyB,SAASC,KAAO1B,EAAU2B,aAAe,MACrJxC,EAAKmC,IAAI,MAAO7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAON,EAAOD,KAAI,GAAGmB,EAAKnC,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAON,EAAOD,KAAI,GAAGoB,OAAS,EAAK1B,EAAWH,EAAUyB,SAASK,IAAM,MAC3JxB,EAAW,CACbP,EAAWgB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOe,SAAS5C,EAAK+B,SAAS,YAAYc,SAAQ,GAAGR,EAAIrC,EAAKsC,SAASC,KAAQvC,EAAKkC,aAAe,EAAKrB,EAAU2B,aAAe3B,EAAU2B,aACpK5B,EAAWgB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOe,SAAS5C,EAAK+B,SAAS,YAAYc,SAAQ,GAAGJ,EAAIzC,EAAKsC,SAASK,IAAO3C,EAAK8C,cAAgB,EAAKjC,EAAUkC,YAC3InC,EAAWgB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAO7B,EAAK+B,SAAS,YAAYc,QAAO,GAAG3C,OAASqB,EAAOD,GAC/E,IAAIK,EAAI,EAAGA,EAAIf,EAAWkB,OAAQH,IACjCf,EAAWe,GAAGE,KAAOe,SAAS5C,EAAK+B,SAAS,YAAYc,SAC1D1C,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,OAAQhC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASC,KAAO1B,EAAUyB,SAASC,KAAO1B,EAAU2B,cAC9KrC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,MAAOhC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASK,IAAM9B,EAAUyB,SAASK,IAAM9B,EAAUkC,aAC3K5C,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,OAAQhC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASC,KAAO1B,EAAUyB,SAASC,KAAO1B,EAAU2B,aAAe,IAC7LrC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,MAAOhC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASK,IAAM9B,EAAUyB,SAASK,IAAM9B,EAAUkC,aAC3K5C,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASsB,SAASX,GAChEV,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASsB,SAASX,GAEhED,EAAWe,GAAGU,EAAIlC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASC,KAAQpC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAKK,aAAe,EAAKrB,EAAU2B,aACtK5B,EAAWe,GAAGc,EAAItC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASK,IAAOxC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAAS4C,cAAgB,EAAKjC,EAAUkC,aAGnLzC,EAASH,EAAE6C,MAAM1C,EAAQM,GACzBA,EAAa,QAEbN,EAAO2C,KAAK,CACVjB,WAAY,EACZ9B,OAAQqB,EAAOD,GACfO,GAAIe,SAAS5C,EAAK+B,SAAS,YAAYc,OACvCR,EAAGrC,EAAKsC,SAASC,KAAQvC,EAAKkC,aAAe,EAAKrB,EAAU2B,aAC5DC,EAAGzC,EAAKsC,SAASK,IAAO3C,EAAK8C,cAAgB,EAAKjC,EAAUkC,YAC5Dd,MAAOjC,EAAKkC,aACZQ,OAAQ1C,EAAK8C,gBAGbI,IAAAA,EAAY5C,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOe,SAAS5C,EAAK+B,SAAS,YAAYc,SAAQ,GACnFM,EAASD,EAAUb,EAAI/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAI,GACrEe,EAASF,EAAUT,EAAKS,EAAUR,OAAS,GAAMpC,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqB,EAAOD,KAAI,GAAGmB,EAAKnC,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqB,EAAOD,KAAI,GAAGoB,OAAS,GAAM7B,EAAUkC,YAS/KzC,GARA6C,EAAS,GACXnD,EAAKqD,MAAM,uEAAyErD,EAAK+B,SAAS,YAAYc,MAAQ,+FAAiGvC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAIa,EAAUb,EAAI,GAAK,OAAS/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAIa,EAAUb,EAAI,GAAK,IAAOrB,EAAW,EAAK,MAASA,EAAW,EAAK,MAAQoC,EAAS,uDAAyDA,EAAS,GAAK,SAAWA,EAAS,OAASA,EAAS,GAAK,mCACrhBjD,EAAE,kBAAoBH,EAAK+B,SAAS,YAAYc,MAAQ,KAAK3C,SAASiC,IAAI,OAASe,EAAUb,EAAI,EAAKxB,EAAUyB,SAASC,KAAO1B,EAAU2B,aAAe,QAEzJxC,EAAKqD,MAAM,uEAAyErD,EAAK+B,SAAS,YAAYc,MAAQ,sGAAyG7B,EAAW,EAAK,IAAOmC,EAAU,IAAOnC,EAAW,EAAK,IAAMmC,EAAS,IAAMC,EAAS,qDAAuDD,EAAS,GAAK,KAAOC,EAAS,GAAK,KAAOD,EAAS,GAAK,IAAMA,EAAS,IAAMC,EAAS,KAAOD,EAAS,GAAK,KAAOC,EAAS,GAAK,mCAC5ejD,EAAE,kBAAoByC,SAAS5C,EAAK+B,SAAS,YAAYc,OAAS,KAAK3C,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAI,GAAKxB,EAAUyB,SAASC,KAAO1B,EAAU2B,aAAe,OAEpMrC,EAAE,kBAAoByC,SAAS5C,EAAK+B,SAAS,YAAYc,OAAS,KAAK3C,SAASiC,IAAI,MAAO7B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGmB,EAAKnC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGoB,OAAS,EAAK,OACxI,IAAtDpC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGpB,OAAe,CAGpD,IAFHoD,IAAAA,GAAO,EACPC,EAAQhC,EAAOD,IACXgC,GACFhD,IAAkD,IAAlDA,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAO0B,IAAO,GAAGrD,OACxCoD,GAAO,MACF,CACDE,IAAAA,EAAS,EACR,IAAI7B,EAAI,EAAGA,EAAIrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqD,IAAOzB,OAAQH,IAAK,CACpEI,IAAAA,GAAAA,EAAWzB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqD,IAAO5B,IAC3CK,WAAaD,EAASE,MAC7BN,IAAMrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqD,IAAOzB,OAAS,EAC1D0B,GAAUzB,EAASC,WAEnBwB,GAAUzB,EAASC,WAAajB,EAG9BY,IAAMrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWqD,IAAOzB,OAAS,EAC1D0B,GAAUzB,EAASE,MAEnBuB,GAAUzB,EAASE,MAAQlB,EAIjCT,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAO0B,IAAO,GAAGvB,WAAawB,EACnDD,EAAQjD,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAO0B,IAAO,GAAGrD,OAGlDI,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAO0B,IAAO,GAAGvB,WAAaP,EAEnDN,IACFA,GAAY,EACZnB,EAAKyD,YAAY,aAEnBC,IA+GOC,WACP1C,EAAaX,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAEC,IAC3BwB,IAAAA,EAASvD,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAEH,QAC3B6B,EAAU7C,EAAW2C,IAAI,SAAUG,EAAMC,GACpCD,OAAAA,EAAQF,EAAOG,GAAS,IAG7B/C,IADJA,EAAagD,KAAKC,IAAIC,MAAMF,KAAMH,IACjBjD,EAAUyB,SAASC,KAAM,CACxCnB,GAAY,EAEP,IADDG,IAAAA,EAASjB,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAEP,KACtBF,EAAI,EAAGA,EAAIrB,EAAOwB,OAAQH,IAE7BrB,GADJH,EAAE,kBAAoBG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGU,EAAK/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGM,MAAQ,EAAKhB,EAAa,KACxJ,IAAtDX,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGzB,OAAe,CACvDgD,IAAAA,EAAY5C,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GACnDwB,EAASD,EAAUb,EAAI/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOvB,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGzB,SAAQ,GAAGmC,EACxGc,EAAS,EACXhD,EAAE,kBAAoBoB,EAAOI,GAAK,KAAKzB,SAASiC,IAAI,OAASe,EAAUb,EAAIpB,EAAa,GAAK,EAAK,MAElGd,EAAE,kBAAoBoB,EAAOI,GAAK,KAAKzB,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOvB,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGzB,SAAQ,GAAGmC,EAAI,GAAKpB,EAAa,GAAK,MAI3K,IAAA,IAAIU,EAAI,EAAGA,EAAIrB,EAAOwB,OAAQH,IACjCrB,EAAOqB,GAAGU,EAAIlC,EAAE,kBAAoBG,EAAOqB,GAAGE,GAAK,KAAK3B,SAASoC,SAASC,KAAO1B,EAAUyB,SAASC,KAAQpC,EAAE,kBAAoBG,EAAOqB,GAAGE,GAAK,KAAK3B,SAASgC,aAAe,EAAK,GAErLhB,EAAgBD,GAvIlB0C,GAoKOD,SAAAA,IAEF,IADDU,IAAAA,EAAS9D,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAElC,SACtBmE,EAAI,EAAGA,EAAID,EAAOtC,OAAQuC,IAAK,EACnB,IAAfD,EAAOC,IACTA,IAKG,IAHD5C,IAAAA,EAAa,EACbC,EAAc,EAETC,EAAI,EAAGA,EAAIrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWkE,EAAOC,KAAIvC,OAAQH,IAAK,CACxEI,IAAAA,EAAWzB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWkE,EAAOC,KAAI1C,GACE,IAA1DrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAW6B,EAASF,KAAIC,SACjDC,EAASC,WAAa,GAEpBD,EAASC,WAAaD,EAASE,MAC7BN,IAAMrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWkE,EAAOC,KAAIvC,OAAS,EAC9DL,GAAcM,EAASC,WAEvBP,GAAcM,EAASC,WAAajB,EAGlCY,IAAMrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWkE,EAAOC,KAAIvC,OAAS,EAC9DL,GAAcM,EAASE,MAEvBR,GAAcM,EAASE,MAAQlB,GAIlB,IAAfqD,EAAOC,KACT/D,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOuC,EAAOC,KAAI,GAAGrC,WAAaP,GAEpD,IAAIE,EAAI,EAAGA,EAAIrB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWkE,EAAOC,KAAIvC,OAAQH,IAAK,CACxEI,EAAWzB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAG3B,SAAWkE,EAAOC,KAAI1C,GAC5DxB,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASiC,IAAI,MAAO7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOuC,EAAOC,KAAI5B,EAAIzB,EAAW,MACrHV,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOuC,EAAOC,KAAI5B,EAAInC,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOuC,EAAOC,KAAI5B,EAAIzB,EACtFe,EAASC,WAAaD,EAASE,OACjC9B,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOuC,EAAOC,KAAI,GAAGhC,EAAKZ,EAAa,EAAKC,EAAeK,EAASC,WAAa,EAAMD,EAASE,MAAQ,EAAKpB,EAAUyB,SAASC,KAAO,MAC5NR,EAASM,EAAI/B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOuC,EAAOC,KAAI,GAAGhC,EAAKZ,EAAa,EAAKC,EAAeK,EAASC,WAAa,EACrHN,GAAeK,EAASC,WAAajB,IAErCZ,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOuC,EAAOC,KAAI,GAAGhC,EAAKZ,EAAa,EAAKC,EAAcb,EAAUyB,SAASC,KAAO,MACzKR,EAASM,EAAI/B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOuC,EAAOC,KAAI,GAAGhC,EAAKZ,EAAa,EAAKC,EAAeK,EAASE,MAAQ,EAChHP,GAAeK,EAASE,MAAQlB,GAE9BmC,IAAAA,EAAY5C,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOE,EAASF,KAAI,GACrDsB,EAASD,EAAUb,EAAI/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOE,EAAS7B,SAAQ,GAAGmC,EAAI,GAC3Ee,EAASF,EAAUT,EAAKS,EAAUR,OAAS,GAAMpC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOE,EAAS7B,SAAQ,GAAGuC,EAAKnC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOE,EAAS7B,SAAQ,GAAGwC,OAAS,GACnKvC,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASiC,IAAI,MAAO7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOE,EAAS7B,SAAQ,GAAGuC,EAAKnC,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOE,EAAS7B,SAAQ,GAAGwC,OAAS,EAAK7B,EAAUyB,SAASK,IAAM,MACzMQ,EAAS,GACXhD,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASiC,IAAI,OAASe,EAAUb,EAAI,EAAKxB,EAAUyB,SAASC,KAAO,MAC5GpC,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASoE,KAAK,+CAAiDvC,EAASF,GAAK,+FAAiGvB,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOE,EAAS7B,SAAQ,GAAGmC,EAAIa,EAAUb,EAAI,GAAK,OAAS/B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOE,EAAS7B,SAAQ,GAAGmC,EAAIa,EAAUb,EAAI,GAAK,IAAOrB,EAAW,EAAK,MAASA,EAAW,EAAK,MAAQoC,EAAS,uDAAyDA,EAAS,GAAK,SAAWA,EAAS,OAASA,EAAS,GAAK,+BAEriBjD,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOE,EAAS7B,SAAQ,GAAGmC,EAAI,GAAKxB,EAAUyB,SAASC,KAAO,MACnJpC,EAAE,kBAAoB4B,EAASF,GAAK,KAAK3B,SAASoE,KAAK,+CAAiDvC,EAASF,GAAK,sGAAyGb,EAAW,EAAK,IAAOmC,EAAU,IAAOnC,EAAW,EAAK,IAAMmC,EAAS,IAAMC,EAAS,qDAAuDD,EAAS,GAAK,KAAOC,EAAS,GAAK,KAAOD,EAAS,GAAK,IAAMA,EAAS,IAAMC,EAAS,KAAOD,EAAS,GAAK,KAAOC,EAAS,GAAK,gCAtcpfvC,EAAU0D,OAAO,2CACjB/E,EAAMgF,OAAS,SAAUC,GACvB5D,EAAUyD,KAAKI,KAAKC,MAAMF,EAAOH,OACjChE,EAASmE,EAAOG,UAElBpF,EAAMiF,OAAS,WACTI,IACAC,EAAW,CAAER,KADHI,KAAKK,UAAUlE,EAAUyD,QACPM,SAAUtE,EAAQA,OAAQ,IACtDA,GAAAA,EAAOwB,OAAS,EAAG,CAChB,IAAA,IAAIR,EAAI,EAAGA,EAAIhB,EAAOwB,OAAQR,IACjCwD,EAASxE,OAAO2C,KAAK,CACnBpB,GAAIvB,EAAOgB,GAAGO,GACd3B,OAAQI,EAAOgB,GAAGpB,OAClB8E,KAAM,KAER7E,EAAE,kBAAoBG,EAAOgB,GAAGO,GAAK,KAAK3B,SAAS6B,SAAS,SAASkD,KAAK,WACpEC,IAAAA,EAAW/E,EAAE,MAAMgF,KAAK,QACxBC,EAAYjF,EAAE,MAAM0C,MACxBiC,EAASxE,OAAOgB,GAAG0D,KAAK/B,KAAK,CAC3BoC,KAAMH,EACNI,MAAOF,MAINN,OAAAA,IAGXtF,EAAM+F,aAAe,WACnBjF,EAAS,GACTO,EAAUyD,KAAK,4CAEjBnE,EAAEC,UAAUoF,GAAG,uBAAwB,gBAAiB,SAAUC,GA8a3DC,IAAcC,EA7afF,EAAMG,eACRlF,EAAS+E,EAAMI,eAAe,GAAGC,QACjCnF,EAAS8E,EAAMI,eAAe,GAAGE,UAEjCrF,EAAS+E,EAAMK,QACfnF,EAAS8E,EAAMM,SAEG,IAAhBN,EAAMO,QACRvF,EAAWN,EAAE,MACS,IAAlBG,EAAOwB,QACT3B,EAAE,MAAM8F,QAAQC,SAAS,SAAS3B,OAAO,8DAAgEjE,EAAOwB,OAAS,MAAM2B,YAAY,gBAAgBjC,SAAS,QACpKrB,EAAE,MAAM+F,SAAS,WACjBlG,EAAOG,EAAE,kBAAoBG,EAAOwB,OAAS,KAAK5B,WAElDC,EAAE,MAAM8F,QAAQC,SAAS,SAAS3B,OAAO,+DAAiEN,KAAKkC,IAAIhC,MAAMF,KAAM3D,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAEP,MAAO,GAAK,MAAM4B,YAAY,gBAAgBjC,SAAS,QACxMrB,EAAE,MAAM+F,SAAS,WACjBlG,EAAOG,EAAE,mBAAqByC,SAASqB,KAAKkC,IAAIhC,MAAMF,KAAM3D,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAEP,OAAQ,GAAK,KAAK3B,UA6ZjFyF,EA3ZJxF,EAAE,MA4ZnBT,EAAKiG,GA3ZD3F,EAAKkG,SAAS,YACdpF,GAAS,EACTP,EAAQG,EAASP,EAAE,MAAMmC,SAASC,KAClC/B,EAAQG,EAASR,EAAE,MAAMmC,SAASK,IAClC3C,EAAKmC,IAAI,OAAQzB,EAASH,EAAQ,MAClCP,EAAKmC,IAAI,MAAOxB,EAASH,EAAQ,SAGrCL,EAAEC,UAAUoF,GAAG,mBAAoB,SAAUC,GACvCA,GAAgB,IAAhBA,EAAMO,QAAgBlF,GAAUK,GAS9ByB,GA6YRjD,IApZSQ,EAAE,cAAciG,SAAS,cAC5BjG,EAAE,cAAc+F,SAAS,aAEvBpF,IACFL,EAASgD,YAAY,WACrBzD,EAAKyD,YAAY,aAE+B,IAA9Cb,SAAS5C,EAAK+B,SAAS,YAAYc,QAAgB1B,EAAW,CAChEnB,EAAKyD,YAAY,YACjBtC,GAAY,EACP,IAAA,IAAIQ,EAAI,EAAGA,EAAIf,EAAWkB,OAAQH,IACjCf,EAAWe,GAAGE,KAAOe,SAAS5C,EAAK+B,SAAS,YAAYc,SAC1D1C,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,OAAQhC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASC,KAAO1B,EAAUyB,SAASC,KAAO1B,EAAU2B,cAC9KrC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,MAAOhC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASK,IAAM9B,EAAUyB,SAASK,IAAM9B,EAAUkC,aAC3K5C,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,OAAQhC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASC,KAAO1B,EAAUyB,SAASC,KAAO1B,EAAU2B,cAC9KrC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,MAAOhC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASK,IAAM9B,EAAUyB,SAASK,IAAM9B,EAAUkC,YAAc,MACzL5C,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASsB,SAASX,GAChEV,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASsB,SAASX,GAEhED,EAAWe,GAAGU,EAAIlC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASC,KAAQpC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAKK,aAAe,EAAKrB,EAAU2B,aACtK5B,EAAWe,GAAGc,EAAItC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAASoC,SAASK,IAAOxC,EAAE,kBAAoBS,EAAWe,GAAGE,GAAK,KAAK3B,SAAS4C,cAAgB,EAAKjC,EAAUkC,aAGnLnC,EAAWgB,OAAO,SAAAQ,GAAKA,OAAS,IAATA,EAAEP,KAAU,GAAGQ,EAAIrC,EAAKsC,SAASC,KAAQvC,EAAKkC,aAAe,EACpFtB,EAAWgB,OAAO,SAAAQ,GAAKA,OAAS,IAATA,EAAEP,KAAU,GAAGY,EAAIzC,EAAKsC,SAASK,IAAO3C,EAAK8C,cAAgB,EACpFxC,EAASH,EAAE6C,MAAM1C,EAAQM,GACzBA,EAAa,QACR,GAAIE,GAA4B,IAAlBR,EAAOwB,QAAgB9B,EAAKsC,SAASK,IAAM9B,EAAUyB,SAASK,KAAO3C,EAAKsC,SAASC,KAAO1B,EAAUyB,SAASC,KAChIxC,EAAUC,GAAM,OAAMqG,GACtBvF,GAAS,EACTd,EAAKmC,IAAI,MAAOnC,EAAKsC,SAASK,IAAM9B,EAAUyB,SAASK,IAAM9B,EAAUkC,YAAc,MACrF/C,EAAKmC,IAAI,OAAQnC,EAAKsC,SAASC,KAAO1B,EAAUyB,SAASC,KAAO1B,EAAU2B,aAAe,MACzFxC,EAAKwB,SAASX,GACdP,EAAO2C,KAAK,CACV/C,QAAS,EACT8B,WAAY,EACZH,GAAIe,SAAS5C,EAAK+B,SAAS,YAAYc,OACvCR,EAAGrC,EAAKsC,SAASC,KAAQvC,EAAKkC,aAAe,EAAKrB,EAAU2B,aAC5DC,EAAGzC,EAAKsC,SAASK,IAAO3C,EAAK8C,cAAgB,EAAKjC,EAAUkC,YAC5Dd,MAAOjC,EAAKkC,aACZQ,OAAQ1C,EAAK8C,qBAEV,GAAIhC,GAA4B,IAAlBR,EAAOwB,OAC1B9B,EAAKsG,cACA,GAAIxF,GAAUK,EAId,IAHDoF,IAAAA,EAAOvG,EAAKsC,SAASC,KAAQvC,EAAKkC,aAAe,EAAKrB,EAAU2B,aAChEgE,EAAOxG,EAAKsC,SAASK,IAAM9B,EAAUkC,YACrCxB,EAASjB,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAEP,KACtBP,EAAI,EAAGA,EAAIhB,EAAOwB,OAAQR,IAAK,CAClCiF,GAAAA,GAAQjG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAK/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGW,MAAQ,EAAKlB,GAAYwF,GAAQjG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAK/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGW,MAAQ,EAAKlB,GAAYyF,GAAQlG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGmB,EAAKnC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGoB,OAAS,GAAM8D,GAAQlG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGmB,EAAInC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGoB,OAAQ,CAC9c5B,GAAS,GACJK,GAAapB,EAAUC,GAAM,EAAOM,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAON,EAAOD,KAAI,IAChFD,EAAKrB,EAAMsB,EAAGC,GACLJ,GACTE,EAAKrB,EAAMsB,EAAGC,GAEhB,MACSD,IAAMhB,EAAOwB,OAAS,IAC3BX,IACFA,GAAY,EACZP,EAAa,IAEfE,GAAS,EACTd,EAAKsG,aAkHfnG,EAAEC,UAAUoF,GAAG,uBAAwB,SAAU,SAAUC,GACzDtF,EAAEC,UAAUoF,GAAG,8BAA+B,SAAU,SAASiB,EAAShB,GAQpEA,GAPAA,EAAMG,cAAc,IACtBlF,EAAS+E,EAAMG,cAAc,GAAGE,QAChCnF,EAAS8E,EAAMG,cAAc,GAAGG,UAEhCrF,EAAS+E,EAAMK,QACfnF,EAAS8E,EAAMM,SAEE,YAAfN,EAAMiB,MACY,IAAhBjB,EAAMO,QACHlF,IAAWK,EAAW,CACzBA,GAAY,GACZnB,EAAOG,EAAE,OACJ+F,SAAS,YACd3F,EAAQG,EAASP,EAAE,MAAMmC,SAASC,KAClC/B,EAAQG,EAASR,EAAE,MAAMmC,SAASK,IAC9BgE,IAAAA,EAAU/D,SAASzC,EAAE,MAAM4B,SAAS,YAAYc,OACpD7C,EAAOG,EAAE,MACTS,EAAWqC,KAAK3C,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAO8E,IAAS,IACrDrG,EAASH,EAAEyG,KAAKtG,EAAQ,SAAUuG,GACzBA,OAAAA,EAAEhF,KAAO8E,IAElBxG,EAAE,kBAAoBwG,EAAU,KAAKzG,SAASoG,SAKvC,IAJHQ,IAAAA,EAAQxG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAElC,SAAWyG,IACxCrD,GAAO,EACPyD,EAAW,GACXC,EAAS,IACL1D,GAAM,CACP,IAAA,IAAIhC,EAAI,EAAGA,EAAIwF,EAAMhF,OAAQR,IAChCV,EAAWqC,KAAK3C,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOiF,EAAMxF,GAAGO,KAAI,IACzD1B,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASiC,IAAI,OAAQhC,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASoC,SAASC,KAAOvC,EAAKsC,SAASC,MAC9IpC,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASiC,IAAI,MAAOhC,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASoC,SAASK,IAAM3C,EAAKsC,SAASK,KAC5IxC,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASiC,IAAI,OAAQhC,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASoC,SAASC,KAAOvC,EAAKsC,SAASC,MAC9IpC,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASiC,IAAI,MAAOhC,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASoC,SAASK,IAAM3C,EAAKsC,SAASK,KAC5IxC,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASsB,SAASxB,GAC3DG,EAAE,kBAAoB2G,EAAMxF,GAAGO,GAAK,KAAK3B,SAASsB,SAASxB,GAC3D+G,EAAS9D,KAAK6D,EAAMxF,GAAGO,IACvBmF,EAAO/D,KAAK6D,EAAMxF,GAAGO,IAEC,IAApBkF,EAASjF,OACXwB,GAAO,GAEPwD,EAAQxG,EAAOsB,OAAO,SAAAQ,GAAK2E,OAAAA,EAASE,SAAS7E,EAAElC,UAC/C6G,EAAW,IAGV,IAAIzF,EAAI,EAAGA,EAAIhB,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAElC,SAAWyG,IAAS7E,OAAQR,IAAK,CACpE4F,IAAAA,EAAc5G,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAElC,SAAWyG,IAASrF,GAC3DhB,EAASH,EAAEyG,KAAKtG,EAAQ,SAAUuG,GACzBA,OAAAA,EAAEhF,KAAOqF,IAGf,IAAI5F,EAAI,EAAGA,EAAI0F,EAAOlF,OAAQR,IAAK,CAClC4F,EAAcF,EAAO1F,GACzBhB,EAASH,EAAEyG,KAAKtG,EAAQ,SAAUuG,GACzBA,OAAAA,EAAEhF,KAAOqF,IAGhB5G,EAAOwB,OAAS,GAClB4B,IAEEtC,GA2EL+F,WACHjG,GAAAA,EAAgBL,EAAUyB,SAASC,KAAM,CAC3CnB,GAAY,EAEP,IADDG,IAAAA,EAASjB,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAEP,KACtBF,EAAI,EAAGA,EAAIrB,EAAOwB,OAAQH,IAI7BrB,GAHJH,EAAE,kBAAoBG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGE,GAAK,KAAK3B,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGU,EAAK/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGM,MAAQ,EAAKf,EAAgB,IACrNZ,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGU,EAAIlC,EAAE,kBAAoBG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGE,GAAK,KAAK3B,SAASoC,SAASC,KAAQjC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGM,MAAQ,GAE1I,IAAtD3B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGzB,OAAe,CACvDgD,IAAAA,EAAY5C,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GACnDwB,EAASD,EAAUb,EAAI/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOvB,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGzB,SAAQ,GAAGmC,EACxGc,EAAS,EACXhD,EAAE,kBAAoBoB,EAAOI,GAAK,KAAKzB,SAASiC,IAAI,OAASe,EAAUb,EAAI,EAAIxB,EAAUyB,SAASC,KAAQ,MAE1GpC,EAAE,kBAAoBoB,EAAOI,GAAK,KAAKzB,SAASiC,IAAI,OAAQ7B,EAAOsB,OAAO,SAAAC,GAAMA,OAAAA,EAAGA,KAAOvB,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOI,KAAI,GAAGzB,SAAQ,GAAGmC,EAAI,GAAKxB,EAAUyB,SAASC,KAAO,MAInL,IAAA,IAAIZ,EAAI,EAAGA,EAAIrB,EAAOwB,OAAQH,KAGnCT,EAAgB,GA/FRiG,GAKRhH,EAAEC,UAAUgH,IAAI,8BAA+BX,OAGnDtG,EAAEC,UAAUoF,GAAG,sBAAuB,SAAUC,GAiB1C3E,GAhBA2E,EAAMG,eACRlF,EAAS+E,EAAMG,cAAc,GAAGE,QAChCnF,EAAS8E,EAAMG,cAAc,GAAGG,UAEhCrF,EAAS+E,EAAMK,QACfnF,EAAS8E,EAAMM,SAEbjF,GACFd,EAAKmC,IAAI,OAAQzB,EAASH,EAAQ,MAClCP,EAAKmC,IAAI,MAAOxB,EAASH,EAAQ,OACxBW,IACTnB,EAAKmC,IAAI,OAAQzB,EAASH,EAAQM,EAAUyB,SAASC,KAAO1B,EAAU2B,aAAe,MACrFxC,EAAKmC,IAAI,MAAOxB,EAASH,EAAQK,EAAUyB,SAASK,IAAM9B,EAAUkC,YAAc,MAClFnC,EAAWgB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOe,SAAS5C,EAAK+B,SAAS,YAAYc,SAAQR,EAAIrC,EAAKsC,SAASC,KAAQvC,EAAKkC,aAAe,EAAKrB,EAAU2B,aACxI5B,EAAWgB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAOe,SAAS5C,EAAK+B,SAAS,YAAYc,SAAQJ,EAAIzC,EAAKsC,SAASC,KAAQvC,EAAK8C,cAAgB,EAAKjC,EAAUkC,aAEvIjC,GAAUK,EAIP,IAHDoF,IAAAA,EAAOvG,EAAKsC,SAASC,KAAQvC,EAAKkC,aAAe,EAAKrB,EAAU2B,aAChEgE,EAAOxG,EAAKsC,SAASK,IAAM9B,EAAUkC,YACrCxB,EAASjB,EAAOsD,IAAI,SAAAxB,GAAKA,OAAAA,EAAEP,KACtBP,EAAI,EAAGA,EAAIhB,EAAOwB,OAAQR,IAAK,CAClCiF,GAAAA,GAAQjG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAK/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGW,MAAQ,EAAKlB,GAAYwF,GAAQjG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGe,EAAK/B,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGW,MAAQ,EAAKlB,GAAYyF,GAAQlG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGmB,EAAKnC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGoB,OAAS,GAAM8D,GAAQlG,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGmB,EAAInC,EAAOsB,OAAO,SAAAQ,GAAKA,OAAAA,EAAEP,KAAON,EAAOD,KAAI,GAAGoB,OAAQ,CAC9cvC,EAAE,cAAcqB,SAASrB,EAAE,kBAAoBoB,EAAOD,GAAK,KAAKpB,UAChEC,EAAE,cAAcgC,IAAI,OAAShC,EAAE,kBAAoBoB,EAAOD,GAAK,KAAKpB,SAASgC,aAAe,EAAK,EAAI,MACrG/B,EAAE,cAAcgC,IAAI,MAAOhC,EAAE,kBAAoBoB,EAAOD,GAAK,KAAKpB,SAAS4C,cAAgB,MAC3F3C,EAAE,cAAcsD,YAAY,aAC5B,MACSnC,IAAMhB,EAAOwB,OAAS,IAC1B3B,EAAE,cAAciG,SAAS,cAC5BjG,EAAE,cAAc+F,SAAS,oBAsIxB1G,EAAAA,EAAAA,QAAAA,QAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvOf,aAlRA,IAAA,EAAA,EAAA,QAAA,YACA,QAAA,cACA,QAAA,eAGA,IAAA,EAAA,EAAA,QAAA,mBACA,EAAA,EAAA,QAAA,mBA4QA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,KAAA,GAAA,GAAA,OAAA,sBAAA,CAAA,IAAA,EAAA,OAAA,sBAAA,GAAA,IAAA,EAAA,EAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,cAAA,EAAA,KAAA,MAAA,EAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IAAA,GAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,0BAAA,OAAA,iBAAA,EAAA,OAAA,0BAAA,IAAA,EAAA,OAAA,IAAA,QAAA,SAAA,GAAA,OAAA,eAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EA3QA,IAAM6H,EAAcC,EAAAA,GAAAA,EAAR,QAAiBC,GAAAA,EAAjB,SAGNC,EAAY,GAClBA,EAAUC,UAGwBJ,kKAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOM,IASxBN,kWAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOO,OASxBP,8WAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOQ,KASxBR,iWAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOS,MAtC1D,+LA+CAN,EAAUlH,OAAS,CAEH+G,2CAAAA,OAAAA,EAAOU,QAGgBV,kGAAAA,OAAAA,EAAOW,KAK9BX,0IAAAA,2CAAAA,OAAAA,EAAOY,WAGgBZ,0GAAAA,OAAAA,EAAOW,KAK9BX,sHAAAA,2CAAAA,OAAAA,EAAOa,SAGgBb,sGAAAA,OAAAA,EAAOW,KAK9BX,uHAAAA,2CAAAA,OAAAA,EAAOc,UAGgBd,mGAAAA,OAAAA,EAAOW,KAK9BX,qHAAAA,2CAAAA,OAAAA,EAAOe,eAGgBf,yGAAAA,OAAAA,EAAOW,KAK9BX,sIAAAA,2CAAAA,OAAAA,EAAOe,eAGgBf,sGAAAA,OAAAA,EAAOW,KAK9BX,6GAAAA,2CAAAA,OAAAA,EAAOgB,aAGgBhB,wGAAAA,OAAAA,EAAOW,KAK9BX,4GAAAA,2CAAAA,OAAAA,EAAOiB,cAGgBjB,mGAAAA,OAAAA,EAAOW,KAK9BX,kJAAAA,2CAAAA,OAAAA,EAAOkB,OAGgBlB,wGAAAA,OAAAA,EAAOW,KAK9BX,qHAAAA,2CAAAA,OAAAA,EAAOkB,OAGgBlB,kGAAAA,OAAAA,EAAOW,KAK9BX,4GAAAA,2CAAAA,OAAAA,EAAOmB,SAGgBnB,sGAAAA,OAAAA,EAAOW,KArF9C,4GA0FAR,EAAUiB,WAAa,CACrBC,SAEgCrB,gKAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOM,IASxBN,kWAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOO,OASxBP,8WAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOQ,KASxBR,iWAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOS,MAtCnC,6LA8CrBa,QAEgCtB,gKAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOuB,SASxBvB,mWAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOuB,SASxBvB,yWAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOO,OASxBP,8VAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOwB,QAnFnC,0LA2FrBC,QAEgCzB,gKAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAO0B,IASxB1B,+VAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAO0B,IASxB1B,kWAAAA,OAAAA,EAAOK,OAEUL,wFAAAA,OAAAA,EAAOS,MA1BjD,oLAmCT3H,EAAEC,UAAUC,MAAM,WACZ2I,IACAC,EACAC,EAFAF,GAAY,EAGhB7I,EAAE,cAAcmE,KAAKkD,EAAUC,YACzBtH,EAAAA,EAAAA,SAAAA,EAAE,WAMCH,SAAM2F,GACbA,EAAMO,SAAS,iBACfgD,EAAavD,GAENhG,WACPuJ,EAAWzF,YAAY,kBAVhB7D,SAAUI,EAAMC,GACvBD,EAAK+B,SAAS,WAAWuE,SACzBtG,EAAK+B,SAAS,YAAYuE,SAC1BtG,EAAKuE,OAAOiD,EAAUlH,OAAOsC,SAAS5C,EAAK+B,SAAS,kBAAkBc,OAAS,MASjF1C,EAAEC,UAAUoF,GAAG,QAAS,eAAgB,WACtCrF,EAAE,cAAc+F,SAAS,eACzB/F,EAAE,cAAcsD,YAAY,aAC5BtD,EAAE,MAAM+F,SAAS,aACjB/F,EAAE,MAAMsD,YAAY,eACpBtD,EAAE,cAAcmE,KAAKkD,EAAUiB,WAAWtI,EAAE,MAAMgF,KAAK,UAEzDhF,EAAE,UAAUgJ,MAAM,WACZH,IACFA,GAAY,EACZ7I,EAAE,eAAesD,YAAY,YAC7B2F,WAAW,WACTjJ,EAAE,aAAasD,YAAY,UAC1B,KACHwF,EAAUxF,YAAY,oBAG1BtD,EAAE,gBAAgBqF,GAAG,QAAS,WACtBD,EAAAA,QAAAA,iBAERpF,EAAEC,UAAUoF,GAAG,YAAa,SAAU,SAAUC,GAC9CtF,EAAEC,UAAUoF,GAAG,oBAAqB,SAAU,SAASiB,EAAShB,GAC3C,YAAfA,EAAMiB,OACHsC,IACHC,EAAY9I,EAAE,MACd6I,GAAY,EACZ7I,EAAE,eAAe+F,SAAS,YAC1B/F,EAAE,aAAa+F,SAAS,SACxB+C,EAAU/C,SAAS,mBAGvB/F,EAAEC,UAAUgH,IAAI,oBAAqBX","file":"demo.ce4dcfc7.js","sourceRoot":"../src","sourcesContent":["/* global $ */\n\nconst flowy = function (canvas, grab, release, snapping, spacingX, spacingY) {\n  if (!grab) {\n    grab = function () {}\n  }\n  if (!release) {\n    release = function () {}\n  }\n  if (!snapping) {\n    snapping = function () {\n      return true\n    }\n  }\n  if (!spacingX) {\n    spacingX = 20\n  }\n  if (!spacingY) {\n    spacingY = 80\n  }\n  $(document).ready(function () {\n    var blocks = []\n    var blockstemp = []\n    var canvasDiv = canvas\n    var active = false\n    var paddingx = spacingX\n    var paddingy = spacingY\n    var offsetleft = 0\n    var offsetleftold = 0\n    var rearrange = false\n    var lastevent = false\n    var drag, dragx, dragy, original\n    var mouseX, mouseY\n    canvasDiv.append(\"<div class='indicator invisible'></div>\")\n    flowy.import = function (output) {\n      canvasDiv.html(JSON.parse(output.html))\n      blocks = output.blockarr\n    }\n    flowy.output = function () {\n      var htmlSer = JSON.stringify(canvasDiv.html())\n      var jsonData = { html: htmlSer, blockarr: blocks, blocks: [] }\n      if (blocks.length > 0) {\n        for (var i = 0; i < blocks.length; i++) {\n          jsonData.blocks.push({\n            id: blocks[i].id,\n            parent: blocks[i].parent,\n            data: []\n          })\n          $('.blockid[value=' + blocks[i].id + ']').parent().children('input').each(function () {\n            var jsonName = $(this).attr('name')\n            var jsonValue = $(this).val()\n            jsonData.blocks[i].data.push({\n              name: jsonName,\n              value: jsonValue\n            })\n          })\n        }\n        return jsonData\n      }\n    }\n    flowy.deleteBlocks = function () {\n      blocks = []\n      canvasDiv.html(\"<div class='indicator invisible'></div>\")\n    }\n    $(document).on('mousedown touchstart', '.create-flowy', function (event) {\n      if (event.targetTouches) {\n        mouseX = event.changedTouches[0].clientX\n        mouseY = event.changedTouches[0].clientY\n      } else {\n        mouseX = event.clientX\n        mouseY = event.clientY\n      }\n      if (event.which !== 3) {\n        original = $(this)\n        if (blocks.length === 0) {\n          $(this).clone().addClass('block').append(\"<input type='hidden' name='blockid' class='blockid' value='\" + blocks.length + \"'>\").removeClass('create-flowy').appendTo('body')\n          $(this).addClass('dragnow')\n          drag = $('.blockid[value=' + blocks.length + ']').parent()\n        } else {\n          $(this).clone().addClass('block').append(\"<input type='hidden' name='blockid' class='blockid' value='\" + (Math.max.apply(Math, blocks.map(a => a.id)) + 1) + \"'>\").removeClass('create-flowy').appendTo('body')\n          $(this).addClass('dragnow')\n          drag = $('.blockid[value=' + (parseInt(Math.max.apply(Math, blocks.map(a => a.id))) + 1) + ']').parent()\n        }\n        blockGrabbed($(this))\n        drag.addClass('dragging')\n        active = true\n        dragx = mouseX - $(this).offset().left\n        dragy = mouseY - $(this).offset().top\n        drag.css('left', mouseX - dragx + 'px')\n        drag.css('top', mouseY - dragy + 'px')\n      }\n    })\n    $(document).on('mouseup touchend', function (event) {\n      if (event.which !== 3 && (active || rearrange)) {\n        blockReleased()\n        if (!$('.indicator').hasClass('invisible')) {\n          $('.indicator').addClass('invisible')\n        }\n        if (active) {\n          original.removeClass('dragnow')\n          drag.removeClass('dragging')\n        }\n        if (parseInt(drag.children('.blockid').val()) === 0 && rearrange) {\n          drag.removeClass('dragging')\n          rearrange = false\n          for (var w = 0; w < blockstemp.length; w++) {\n            if (blockstemp[w].id !== parseInt(drag.children('.blockid').val())) {\n              $('.blockid[value=' + blockstemp[w].id + ']').parent().css('left', $('.blockid[value=' + blockstemp[w].id + ']').parent().offset().left - canvasDiv.offset().left + canvasDiv.scrollLeft())\n              $('.blockid[value=' + blockstemp[w].id + ']').parent().css('top', $('.blockid[value=' + blockstemp[w].id + ']').parent().offset().top - canvasDiv.offset().top + canvasDiv.scrollTop())\n              $('.arrowid[value=' + blockstemp[w].id + ']').parent().css('left', $('.arrowid[value=' + blockstemp[w].id + ']').parent().offset().left - canvasDiv.offset().left + canvasDiv.scrollLeft())\n              $('.arrowid[value=' + blockstemp[w].id + ']').parent().css('top', $('.arrowid[value=' + blockstemp[w].id + ']').parent().offset().top - canvasDiv.offset().top + canvasDiv.scrollTop() + 'px')\n              $('.blockid[value=' + blockstemp[w].id + ']').parent().appendTo(canvasDiv)\n              $('.arrowid[value=' + blockstemp[w].id + ']').parent().appendTo(canvasDiv)\n\n              blockstemp[w].x = $('.blockid[value=' + blockstemp[w].id + ']').parent().offset().left + ($('.blockid[value=' + blockstemp[w].id + ']').innerWidth() / 2) + canvasDiv.scrollLeft()\n              blockstemp[w].y = $('.blockid[value=' + blockstemp[w].id + ']').parent().offset().top + ($('.blockid[value=' + blockstemp[w].id + ']').parent().innerHeight() / 2) + canvasDiv.scrollTop()\n            }\n          }\n          blockstemp.filter(a => a.id === 0)[0].x = drag.offset().left + (drag.innerWidth() / 2)\n          blockstemp.filter(a => a.id === 0)[0].y = drag.offset().top + (drag.innerHeight() / 2)\n          blocks = $.merge(blocks, blockstemp)\n          blockstemp = []\n        } else if (active && blocks.length === 0 && drag.offset().top > canvasDiv.offset().top && drag.offset().left > canvasDiv.offset().left) {\n          blockSnap(drag, true, undefined)\n          active = false\n          drag.css('top', drag.offset().top - canvasDiv.offset().top + canvasDiv.scrollTop() + 'px')\n          drag.css('left', drag.offset().left - canvasDiv.offset().left + canvasDiv.scrollLeft() + 'px')\n          drag.appendTo(canvasDiv)\n          blocks.push({\n            parent: -1,\n            childwidth: 0,\n            id: parseInt(drag.children('.blockid').val()),\n            x: drag.offset().left + (drag.innerWidth() / 2) + canvasDiv.scrollLeft(),\n            y: drag.offset().top + (drag.innerHeight() / 2) + canvasDiv.scrollTop(),\n            width: drag.innerWidth(),\n            height: drag.innerHeight()\n          })\n        } else if (active && blocks.length === 0) {\n          drag.remove()\n        } else if (active || rearrange) {\n          var xpos = drag.offset().left + (drag.innerWidth() / 2) + canvasDiv.scrollLeft()\n          var ypos = drag.offset().top + canvasDiv.scrollTop()\n          var blocko = blocks.map(a => a.id)\n          for (var i = 0; i < blocks.length; i++) {\n            if (xpos >= blocks.filter(a => a.id === blocko[i])[0].x - (blocks.filter(a => a.id === blocko[i])[0].width / 2) - paddingx && xpos <= blocks.filter(a => a.id === blocko[i])[0].x + (blocks.filter(a => a.id === blocko[i])[0].width / 2) + paddingx && ypos >= blocks.filter(a => a.id === blocko[i])[0].y - (blocks.filter(a => a.id === blocko[i])[0].height / 2) && ypos <= blocks.filter(a => a.id === blocko[i])[0].y + blocks.filter(a => a.id === blocko[i])[0].height) {\n              active = false\n              if (!rearrange && blockSnap(drag, false, blocks.filter(id => id.id === blocko[i])[0])) {\n                snap(drag, i, blocko)\n              } else if (rearrange) {\n                snap(drag, i, blocko)\n              }\n              break\n            } else if (i === blocks.length - 1) {\n              if (rearrange) {\n                rearrange = false\n                blockstemp = []\n              }\n              active = false\n              drag.remove()\n            }\n          }\n        }\n      }\n    })\n    function snap (drag, i, blocko) {\n      if (!rearrange) {\n        drag.appendTo(canvasDiv)\n      }\n      var totalwidth = 0\n      var totalremove = 0\n      var maxheight = 0\n      for (var w = 0; w < blocks.filter(id => id.parent === blocko[i]).length; w++) {\n        var children = blocks.filter(id => id.parent === blocko[i])[w]\n        if (children.childwidth > children.width) {\n          totalwidth += children.childwidth + paddingx\n        } else {\n          totalwidth += children.width + paddingx\n        }\n      }\n      totalwidth += drag.innerWidth()\n      for (var w = 0; w < blocks.filter(id => id.parent === blocko[i]).length; w++) {\n        var children = blocks.filter(id => id.parent === blocko[i])[w]\n        if (children.childwidth > children.width) {\n          $('.blockid[value=' + children.id + ']').parent().css('left', blocks.filter(a => a.id === blocko[i])[0].x - (totalwidth / 2) + totalremove + (children.childwidth / 2) - (children.width / 2) + 'px')\n          children.x = blocks.filter(id => id.parent === blocko[i])[0].x - (totalwidth / 2) + totalremove + (children.childwidth / 2)\n          totalremove += children.childwidth + paddingx\n        } else {\n          $('.blockid[value=' + children.id + ']').parent().css('left', blocks.filter(a => a.id === blocko[i])[0].x - (totalwidth / 2) + totalremove + 'px')\n          children.x = blocks.filter(id => id.parent === blocko[i])[0].x - (totalwidth / 2) + totalremove + (children.width / 2)\n          totalremove += children.width + paddingx\n        }\n      }\n      drag.css('left', blocks.filter(id => id.id === blocko[i])[0].x - (totalwidth / 2) + totalremove - canvasDiv.offset().left + canvasDiv.scrollLeft() + 'px')\n      drag.css('top', blocks.filter(id => id.id === blocko[i])[0].y + (blocks.filter(id => id.id === blocko[i])[0].height / 2) + paddingy - canvasDiv.offset().top + 'px')\n      if (rearrange) {\n        blockstemp.filter(a => a.id === parseInt(drag.children('.blockid').val()))[0].x = drag.offset().left + (drag.innerWidth() / 2) + canvasDiv.scrollLeft() + canvasDiv.scrollLeft()\n        blockstemp.filter(a => a.id === parseInt(drag.children('.blockid').val()))[0].y = drag.offset().top + (drag.innerHeight() / 2) + canvasDiv.scrollTop()\n        blockstemp.filter(a => a.id === drag.children('.blockid').val())[0].parent = blocko[i]\n        for (var w = 0; w < blockstemp.length; w++) {\n          if (blockstemp[w].id !== parseInt(drag.children('.blockid').val())) {\n            $('.blockid[value=' + blockstemp[w].id + ']').parent().css('left', $('.blockid[value=' + blockstemp[w].id + ']').parent().offset().left - canvasDiv.offset().left + canvasDiv.scrollLeft())\n            $('.blockid[value=' + blockstemp[w].id + ']').parent().css('top', $('.blockid[value=' + blockstemp[w].id + ']').parent().offset().top - canvasDiv.offset().top + canvasDiv.scrollTop())\n            $('.arrowid[value=' + blockstemp[w].id + ']').parent().css('left', $('.arrowid[value=' + blockstemp[w].id + ']').parent().offset().left - canvasDiv.offset().left + canvasDiv.scrollLeft() + 20)\n            $('.arrowid[value=' + blockstemp[w].id + ']').parent().css('top', $('.arrowid[value=' + blockstemp[w].id + ']').parent().offset().top - canvasDiv.offset().top + canvasDiv.scrollTop())\n            $('.blockid[value=' + blockstemp[w].id + ']').parent().appendTo(canvasDiv)\n            $('.arrowid[value=' + blockstemp[w].id + ']').parent().appendTo(canvasDiv)\n\n            blockstemp[w].x = $('.blockid[value=' + blockstemp[w].id + ']').parent().offset().left + ($('.blockid[value=' + blockstemp[w].id + ']').innerWidth() / 2) + canvasDiv.scrollLeft()\n            blockstemp[w].y = $('.blockid[value=' + blockstemp[w].id + ']').parent().offset().top + ($('.blockid[value=' + blockstemp[w].id + ']').parent().innerHeight() / 2) + canvasDiv.scrollTop()\n          }\n        }\n        blocks = $.merge(blocks, blockstemp)\n        blockstemp = []\n      } else {\n        blocks.push({\n          childwidth: 0,\n          parent: blocko[i],\n          id: parseInt(drag.children('.blockid').val()),\n          x: drag.offset().left + (drag.innerWidth() / 2) + canvasDiv.scrollLeft(),\n          y: drag.offset().top + (drag.innerHeight() / 2) + canvasDiv.scrollTop(),\n          width: drag.innerWidth(),\n          height: drag.innerHeight()\n        })\n      }\n      var arrowhelp = blocks.filter(a => a.id === parseInt(drag.children('.blockid').val()))[0]\n      var arrowx = arrowhelp.x - blocks.filter(a => a.id === blocko[i])[0].x + 20\n      var arrowy = arrowhelp.y - (arrowhelp.height / 2) - (blocks.filter(id => id.parent === blocko[i])[0].y + (blocks.filter(id => id.parent === blocko[i])[0].height / 2)) + canvasDiv.scrollTop()\n      if (arrowx < 0) {\n        drag.after('<div class=\"arrowblock\"><input type=\"hidden\" class=\"arrowid\" value=\"' + drag.children('.blockid').val() + '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M' + (blocks.filter(a => a.id === blocko[i])[0].x - arrowhelp.x + 5) + ' 0L' + (blocks.filter(a => a.id === blocko[i])[0].x - arrowhelp.x + 5) + ' ' + (paddingy / 2) + 'L5 ' + (paddingy / 2) + 'L5 ' + arrowy + '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M0 ' + (arrowy - 5) + 'H10L5 ' + arrowy + 'L0 ' + (arrowy - 5) + 'Z\" fill=\"#C5CCD0\"/></svg></div>')\n        $('.arrowid[value=' + drag.children('.blockid').val() + ']').parent().css('left', (arrowhelp.x - 5) - canvasDiv.offset().left + canvasDiv.scrollLeft() + 'px')\n      } else {\n        drag.after('<div class=\"arrowblock\"><input type=\"hidden\" class=\"arrowid\" value=\"' + drag.children('.blockid').val() + '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 0L20 ' + (paddingy / 2) + 'L' + (arrowx) + ' ' + (paddingy / 2) + 'L' + arrowx + ' ' + arrowy + '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M' + (arrowx - 5) + ' ' + (arrowy - 5) + 'H' + (arrowx + 5) + 'L' + arrowx + ' ' + arrowy + 'L' + (arrowx - 5) + ' ' + (arrowy - 5) + 'Z\" fill=\"#C5CCD0\"/></svg></div>')\n        $('.arrowid[value=' + parseInt(drag.children('.blockid').val()) + ']').parent().css('left', blocks.filter(a => a.id === blocko[i])[0].x - 20 - canvasDiv.offset().left + canvasDiv.scrollLeft() + 'px')\n      }\n      $('.arrowid[value=' + parseInt(drag.children('.blockid').val()) + ']').parent().css('top', blocks.filter(a => a.id === blocko[i])[0].y + (blocks.filter(a => a.id === blocko[i])[0].height / 2) + 'px')\n      if (blocks.filter(a => a.id === blocko[i])[0].parent !== -1) {\n        var flag = false\n        var idval = blocko[i]\n        while (!flag) {\n          if (blocks.filter(a => a.id === idval)[0].parent === -1) {\n            flag = true\n          } else {\n            var zwidth = 0\n            for (var w = 0; w < blocks.filter(id => id.parent === idval).length; w++) {\n              var children = blocks.filter(id => id.parent === idval)[w]\n              if (children.childwidth > children.width) {\n                if (w === blocks.filter(id => id.parent === idval).length - 1) {\n                  zwidth += children.childwidth\n                } else {\n                  zwidth += children.childwidth + paddingx\n                }\n              } else {\n                if (w === blocks.filter(id => id.parent === idval).length - 1) {\n                  zwidth += children.width\n                } else {\n                  zwidth += children.width + paddingx\n                }\n              }\n            }\n            blocks.filter(a => a.id === idval)[0].childwidth = zwidth\n            idval = blocks.filter(a => a.id === idval)[0].parent\n          }\n        }\n        blocks.filter(id => id.id === idval)[0].childwidth = totalwidth\n      }\n      if (rearrange) {\n        rearrange = false\n        drag.removeClass('dragging')\n      }\n      rearrangeMe()\n      checkOffset()\n    }\n    $(document).on('mousedown touchstart', '.block', function (event) {\n      $(document).on('mouseup mousemove touchmove', '.block', function handler (event) {\n        if (event.targetTouches[0]) {\n          mouseX = event.targetTouches[0].clientX\n          mouseY = event.targetTouches[0].clientY\n        } else {\n          mouseX = event.clientX\n          mouseY = event.clientY\n        }\n        if (event.type !== 'mouseup') {\n          if (event.which !== 3) {\n            if (!active && !rearrange) {\n              rearrange = true\n              drag = $(this)\n              drag.addClass('dragging')\n              dragx = mouseX - $(this).offset().left\n              dragy = mouseY - $(this).offset().top\n              var blockid = parseInt($(this).children('.blockid').val())\n              drag = $(this)\n              blockstemp.push(blocks.filter(a => a.id === blockid)[0])\n              blocks = $.grep(blocks, function (e) {\n                return e.id !== blockid\n              })\n              $('.arrowid[value=' + blockid + ']').parent().remove()\n              var layer = blocks.filter(a => a.parent === blockid)\n              var flag = false\n              var foundids = []\n              var allids = []\n              while (!flag) {\n                for (var i = 0; i < layer.length; i++) {\n                  blockstemp.push(blocks.filter(a => a.id === layer[i].id)[0])\n                  $('.blockid[value=' + layer[i].id + ']').parent().css('left', $('.blockid[value=' + layer[i].id + ']').parent().offset().left - drag.offset().left)\n                  $('.blockid[value=' + layer[i].id + ']').parent().css('top', $('.blockid[value=' + layer[i].id + ']').parent().offset().top - drag.offset().top)\n                  $('.arrowid[value=' + layer[i].id + ']').parent().css('left', $('.arrowid[value=' + layer[i].id + ']').parent().offset().left - drag.offset().left)\n                  $('.arrowid[value=' + layer[i].id + ']').parent().css('top', $('.arrowid[value=' + layer[i].id + ']').parent().offset().top - drag.offset().top)\n                  $('.blockid[value=' + layer[i].id + ']').parent().appendTo(drag)\n                  $('.arrowid[value=' + layer[i].id + ']').parent().appendTo(drag)\n                  foundids.push(layer[i].id)\n                  allids.push(layer[i].id)\n                }\n                if (foundids.length === 0) {\n                  flag = true\n                } else {\n                  layer = blocks.filter(a => foundids.includes(a.parent))\n                  foundids = []\n                }\n              }\n              for (var i = 0; i < blocks.filter(a => a.parent === blockid).length; i++) {\n                var blocknumber = blocks.filter(a => a.parent === blockid)[i]\n                blocks = $.grep(blocks, function (e) {\n                  return e.id !== blocknumber\n                })\n              }\n              for (var i = 0; i < allids.length; i++) {\n                var blocknumber = allids[i]\n                blocks = $.grep(blocks, function (e) {\n                  return e.id !== blocknumber\n                })\n              }\n              if (blocks.length > 1) {\n                rearrangeMe()\n              }\n              if (lastevent) {\n                fixOffset()\n              }\n            }\n          }\n        }\n        $(document).off('mouseup mousemove touchmove', handler)\n      })\n    })\n    $(document).on('mousemove touchmove', function (event) {\n      if (event.targetTouches) {\n        mouseX = event.targetTouches[0].clientX\n        mouseY = event.targetTouches[0].clientY\n      } else {\n        mouseX = event.clientX\n        mouseY = event.clientY\n      }\n      if (active) {\n        drag.css('left', mouseX - dragx + 'px')\n        drag.css('top', mouseY - dragy + 'px')\n      } else if (rearrange) {\n        drag.css('left', mouseX - dragx - canvasDiv.offset().left + canvasDiv.scrollLeft() + 'px')\n        drag.css('top', mouseY - dragy - canvasDiv.offset().top + canvasDiv.scrollTop() + 'px')\n        blockstemp.filter(a => a.id === parseInt(drag.children('.blockid').val())).x = drag.offset().left + (drag.innerWidth() / 2) + canvasDiv.scrollLeft()\n        blockstemp.filter(a => a.id === parseInt(drag.children('.blockid').val())).y = drag.offset().left + (drag.innerHeight() / 2) + canvasDiv.scrollTop()\n      }\n      if (active || rearrange) {\n        var xpos = drag.offset().left + (drag.innerWidth() / 2) + canvasDiv.scrollLeft()\n        var ypos = drag.offset().top + canvasDiv.scrollTop()\n        var blocko = blocks.map(a => a.id)\n        for (var i = 0; i < blocks.length; i++) {\n          if (xpos >= blocks.filter(a => a.id === blocko[i])[0].x - (blocks.filter(a => a.id === blocko[i])[0].width / 2) - paddingx && xpos <= blocks.filter(a => a.id === blocko[i])[0].x + (blocks.filter(a => a.id === blocko[i])[0].width / 2) + paddingx && ypos >= blocks.filter(a => a.id === blocko[i])[0].y - (blocks.filter(a => a.id === blocko[i])[0].height / 2) && ypos <= blocks.filter(a => a.id === blocko[i])[0].y + blocks.filter(a => a.id === blocko[i])[0].height) {\n            $('.indicator').appendTo($('.blockid[value=' + blocko[i] + ']').parent())\n            $('.indicator').css('left', ($('.blockid[value=' + blocko[i] + ']').parent().innerWidth() / 2) - 5 + 'px')\n            $('.indicator').css('top', $('.blockid[value=' + blocko[i] + ']').parent().innerHeight() + 'px')\n            $('.indicator').removeClass('invisible')\n            break\n          } else if (i === blocks.length - 1) {\n            if (!$('.indicator').hasClass('invisible')) {\n              $('.indicator').addClass('invisible')\n            }\n          }\n        }\n      }\n    })\n\n    function checkOffset () {\n      offsetleft = blocks.map(a => a.x)\n      var widths = blocks.map(a => a.width)\n      var mathmin = offsetleft.map(function (item, index) {\n        return item - (widths[index] / 2)\n      })\n      offsetleft = Math.min.apply(Math, mathmin)\n      if (offsetleft < canvasDiv.offset().left) {\n        lastevent = true\n        var blocko = blocks.map(a => a.id)\n        for (var w = 0; w < blocks.length; w++) {\n          $('.blockid[value=' + blocks.filter(a => a.id === blocko[w])[0].id + ']').parent().css('left', blocks.filter(a => a.id === blocko[w])[0].x - (blocks.filter(a => a.id === blocko[w])[0].width / 2) - offsetleft + 20)\n          if (blocks.filter(a => a.id === blocko[w])[0].parent !== -1) {\n            var arrowhelp = blocks.filter(a => a.id === blocko[w])[0]\n            var arrowx = arrowhelp.x - blocks.filter(a => a.id === blocks.filter(a => a.id === blocko[w])[0].parent)[0].x\n            if (arrowx < 0) {\n              $('.arrowid[value=' + blocko[w] + ']').parent().css('left', (arrowhelp.x - offsetleft + 20 - 5) + 'px')\n            } else {\n              $('.arrowid[value=' + blocko[w] + ']').parent().css('left', blocks.filter(id => id.id === blocks.filter(a => a.id === blocko[w])[0].parent)[0].x - 20 - offsetleft + 20 + 'px')\n            }\n          }\n        }\n        for (var w = 0; w < blocks.length; w++) {\n          blocks[w].x = $('.blockid[value=' + blocks[w].id + ']').parent().offset().left + canvasDiv.offset().left - ($('.blockid[value=' + blocks[w].id + ']').parent().innerWidth() / 2) - 40\n        }\n        offsetleftold = offsetleft\n      }\n    }\n\n    function fixOffset () {\n      if (offsetleftold < canvasDiv.offset().left) {\n        lastevent = false\n        var blocko = blocks.map(a => a.id)\n        for (var w = 0; w < blocks.length; w++) {\n          $('.blockid[value=' + blocks.filter(a => a.id === blocko[w])[0].id + ']').parent().css('left', blocks.filter(a => a.id === blocko[w])[0].x - (blocks.filter(a => a.id === blocko[w])[0].width / 2) - offsetleftold - 20)\n          blocks.filter(a => a.id === blocko[w])[0].x = $('.blockid[value=' + blocks.filter(a => a.id === blocko[w])[0].id + ']').parent().offset().left + (blocks.filter(a => a.id === blocko[w])[0].width / 2)\n\n          if (blocks.filter(a => a.id === blocko[w])[0].parent !== -1) {\n            var arrowhelp = blocks.filter(a => a.id === blocko[w])[0]\n            var arrowx = arrowhelp.x - blocks.filter(a => a.id === blocks.filter(a => a.id === blocko[w])[0].parent)[0].x\n            if (arrowx < 0) {\n              $('.arrowid[value=' + blocko[w] + ']').parent().css('left', (arrowhelp.x - 5 - canvasDiv.offset().left) + 'px')\n            } else {\n              $('.arrowid[value=' + blocko[w] + ']').parent().css('left', blocks.filter(id => id.id === blocks.filter(a => a.id === blocko[w])[0].parent)[0].x - 20 - canvasDiv.offset().left + 'px')\n            }\n          }\n        }\n        for (var w = 0; w < blocks.length; w++) {\n          // blocks[w].x = blocks[w].x+offsetleftold-20;\n        }\n        offsetleftold = 0\n      }\n    }\n\n    function rearrangeMe () {\n      var result = blocks.map(a => a.parent)\n      for (var z = 0; z < result.length; z++) {\n        if (result[z] === -1) {\n          z++\n        }\n        var totalwidth = 0\n        var totalremove = 0\n        var maxheight = 0\n        for (var w = 0; w < blocks.filter(id => id.parent === result[z]).length; w++) {\n          var children = blocks.filter(id => id.parent === result[z])[w]\n          if (blocks.filter(id => id.parent === children.id).length === 0) {\n            children.childwidth = 0\n          }\n          if (children.childwidth > children.width) {\n            if (w === blocks.filter(id => id.parent === result[z]).length - 1) {\n              totalwidth += children.childwidth\n            } else {\n              totalwidth += children.childwidth + paddingx\n            }\n          } else {\n            if (w === blocks.filter(id => id.parent === result[z]).length - 1) {\n              totalwidth += children.width\n            } else {\n              totalwidth += children.width + paddingx\n            }\n          }\n        }\n        if (result[z] !== -1) {\n          blocks.filter(a => a.id === result[z])[0].childwidth = totalwidth\n        }\n        for (var w = 0; w < blocks.filter(id => id.parent === result[z]).length; w++) {\n          var children = blocks.filter(id => id.parent === result[z])[w]\n          $('.blockid[value=' + children.id + ']').parent().css('top', blocks.filter(id => id.id === result[z]).y + paddingy + 'px')\n          blocks.filter(id => id.id === result[z]).y = blocks.filter(id => id.id === result[z]).y + paddingy\n          if (children.childwidth > children.width) {\n            $('.blockid[value=' + children.id + ']').parent().css('left', blocks.filter(id => id.id === result[z])[0].x - (totalwidth / 2) + totalremove + (children.childwidth / 2) - (children.width / 2) - canvasDiv.offset().left + 'px')\n            children.x = blocks.filter(id => id.id === result[z])[0].x - (totalwidth / 2) + totalremove + (children.childwidth / 2)\n            totalremove += children.childwidth + paddingx\n          } else {\n            $('.blockid[value=' + children.id + ']').parent().css('left', blocks.filter(id => id.id === result[z])[0].x - (totalwidth / 2) + totalremove - canvasDiv.offset().left + 'px')\n            children.x = blocks.filter(id => id.id === result[z])[0].x - (totalwidth / 2) + totalremove + (children.width / 2)\n            totalremove += children.width + paddingx\n          }\n          var arrowhelp = blocks.filter(a => a.id === children.id)[0]\n          var arrowx = arrowhelp.x - blocks.filter(a => a.id === children.parent)[0].x + 20\n          var arrowy = arrowhelp.y - (arrowhelp.height / 2) - (blocks.filter(a => a.id === children.parent)[0].y + (blocks.filter(a => a.id === children.parent)[0].height / 2))\n          $('.arrowid[value=' + children.id + ']').parent().css('top', blocks.filter(id => id.id === children.parent)[0].y + (blocks.filter(id => id.id === children.parent)[0].height / 2) - canvasDiv.offset().top + 'px')\n          if (arrowx < 0) {\n            $('.arrowid[value=' + children.id + ']').parent().css('left', (arrowhelp.x - 5) - canvasDiv.offset().left + 'px')\n            $('.arrowid[value=' + children.id + ']').parent().html('<input type=\"hidden\" class=\"arrowid\" value=\"' + children.id + '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M' + (blocks.filter(id => id.id === children.parent)[0].x - arrowhelp.x + 5) + ' 0L' + (blocks.filter(id => id.id === children.parent)[0].x - arrowhelp.x + 5) + ' ' + (paddingy / 2) + 'L5 ' + (paddingy / 2) + 'L5 ' + arrowy + '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M0 ' + (arrowy - 5) + 'H10L5 ' + arrowy + 'L0 ' + (arrowy - 5) + 'Z\" fill=\"#C5CCD0\"/></svg>')\n          } else {\n            $('.arrowid[value=' + children.id + ']').parent().css('left', blocks.filter(id => id.id === children.parent)[0].x - 20 - canvasDiv.offset().left + 'px')\n            $('.arrowid[value=' + children.id + ']').parent().html('<input type=\"hidden\" class=\"arrowid\" value=\"' + children.id + '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 0L20 ' + (paddingy / 2) + 'L' + (arrowx) + ' ' + (paddingy / 2) + 'L' + arrowx + ' ' + arrowy + '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M' + (arrowx - 5) + ' ' + (arrowy - 5) + 'H' + (arrowx + 5) + 'L' + arrowx + ' ' + arrowy + 'L' + (arrowx - 5) + ' ' + (arrowy - 5) + 'Z\" fill=\"#C5CCD0\"/></svg>')\n          }\n        }\n      }\n    }\n  })\n\n  function blockGrabbed (block) {\n    grab(block)\n  }\n\n  function blockReleased () {\n    release()\n  }\n\n  function blockSnap (drag, first, parent) {\n    return snapping(drag, first, parent)\n  }\n}\n\nexport default flowy\n","/* global $ */\n\nimport flowy from './flowy'\nimport './demo.css'\nimport './flowy.css'\n\n// this just sets up path-conversion for parcel\nimport pngs from './assets/*.png'\nimport svgs from './assets/*.svg'\nconst images = { ...pngs, ...svgs }\n\n// all HTML templates go here\nconst templates = {}\ntemplates.blocklist = `\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"1\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.eye}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">New visitor</p>\n      <p class=\"blockdesc\">Triggers when somebody visits a specified page</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"2\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.action}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Action is performed</p>\n      <p class=\"blockdesc\">Triggers when somebody performs a specified action</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"3\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.time}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Time has passed</p>\n      <p class=\"blockdesc\">Triggers after a specified amount of time</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"4\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.error}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Error prompt</p>\n      <p class=\"blockdesc\">Triggers when a specified error happens</p>\n    </div>\n  </div>\n</div>\n`\n\ntemplates.blocks = [\n  `<div class=\"blockyleft\">\n    <img src=\"${images.eyeblue}\">\n    <p class=\"blockyname\">New visitor</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">When a <span>new visitor</span> goes to <span>Site 1</span></div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.actionblue}\">\n    <p class=\"blockyname\">Action is performed</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">When <span>Action 1</span> is performed</div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.timeblue}\">\n    <p class=\"blockyname\">Time has passed</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">When <span>10 seconds</span> have passed</div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.errorblue}\">\n    <p class=\"blockyname\">Error prompt</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">When <span>Error 1</span> is triggered</div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.databaseorange}\">\n    <p class=\"blockyname\">New database entry</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">Add <span>Data object</span> to <span>Database 1</span></div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.databaseorange}\">\n    <p class=\"blockyname\">Update database</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">Update <span>Database 1</span></div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.actionorange}\">\n    <p class=\"blockyname\">Perform an action</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">Perform <span>Action 1</span></div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.twitterorange}\">\n    <p class=\"blockyname\">Make a tweet</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">Tweet <span>Query 1</span> with the account <span>@alyssaxuu</span></div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.logred}\">\n    <p class=\"blockyname\">Add new log entry</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">Add new <span>success</span> log entry</div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.logred}\">\n    <p class=\"blockyname\">Update logs</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">Edit <span>Log Entry 1</span></div>`,\n\n  `<div class=\"blockyleft\">\n    <img src=\"${images.errorred}\">\n    <p class=\"blockyname\">Prompt an error</p>\n  </div>\n  <div class=\"blockyright\"><img src=\"${images.more}\"></div>\n  <div class=\"blockydiv\"></div>\n  <div class=\"blockyinfo\">Trigger <span>Error 1</span></div>`\n]\n\ntemplates.blocklists = {\n  triggers: `<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"1\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.eye}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">New visitor</p>\n      <p class=\"blockdesc\">Triggers when somebody visits a specified page</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"2\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.action}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Action is performed</p>\n      <p class=\"blockdesc\">Triggers when somebody performs a specified action</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"3\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.time}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Time has passed</p>\n      <p class=\"blockdesc\">Triggers after a specified amount of time</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"4\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.error}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Error prompt</p>\n      <p class=\"blockdesc\">Triggers when a specified error happens</p>\n    </div>\n  </div>\n</div>`,\n\n  actions: `<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"5\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.database}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">New database entry</p>\n      <p class=\"blockdesc\">Adds a new entry to a specified database</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"6\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.database}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Update database</p>\n      <p class=\"blockdesc\">Edits and deletes database entries and properties</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"7\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.action}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Perform an action</p>\n      <p class=\"blockdesc\">Performs or edits a specified action</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"8\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.twitter}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Make a tweet</p>\n      <p class=\"blockdesc\">Makes a tweet with a specified query</p>\n    </div>\n  </div>\n</div>`,\n\n  loggers: `<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"9\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.log}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Add new log entry</p>\n      <p class=\"blockdesc\">Adds a new log entry to this project</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"10\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.log}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Update logs</p>\n      <p class=\"blockdesc\">Edits and deletes log entries in this project</p>\n    </div>\n  </div>\n</div>\n<div class=\"blockelem create-flowy noselect\">\n  <input type=\"hidden\" name=\"blockelemtype\" class=\"blockelemtype\" value=\"11\">\n  <div class=\"grabme\"><img src=\"${images.grabme}\"></div>\n  <div class=\"blockin\">\n    <div class=\"blockico\"><span></span><img src=\"${images.error}\"></div>\n    <div class=\"blocktext\">\n      <p class=\"blocktitle\">Prompt an error</p>\n      <p class=\"blockdesc\">Triggers a specified error</p>\n    </div>\n  </div>\n</div>`\n}\n\n$(document).ready(function () {\n  var rightcard = false\n  var tempblock\n  var tempblock2\n  $('#blocklist').html(templates.blocklist)\n  flowy($('#canvas'), drag, release, snapping)\n  function snapping (drag, first) {\n    drag.children('.grabme').remove()\n    drag.children('.blockin').remove()\n    drag.append(templates.blocks[parseInt(drag.children('.blockelemtype').val()) - 1])\n  }\n  function drag (block) {\n    block.addClass('blockdisabled')\n    tempblock2 = block\n  }\n  function release () {\n    tempblock2.removeClass('blockdisabled')\n  }\n  $(document).on('click', '.navdisabled', function () {\n    $('.navactive').addClass('navdisabled')\n    $('.navactive').removeClass('navactive')\n    $(this).addClass('navactive')\n    $(this).removeClass('navdisabled')\n    $('#blocklist').html(templates.blocklists[$(this).attr('id')])\n  })\n  $('#close').click(function () {\n    if (rightcard) {\n      rightcard = false\n      $('#properties').removeClass('expanded')\n      setTimeout(function () {\n        $('#propwrap').removeClass('itson')\n      }, 300)\n      tempblock.removeClass('selectedblock')\n    }\n  })\n  $('#removeblock').on('click', function () {\n    flowy.deleteBlocks()\n  })\n  $(document).on('mousedown', '.block', function (event) {\n    $(document).on('mouseup mousemove', '.block', function handler (event) {\n      if (event.type === 'mouseup') {\n        if (!rightcard) {\n          tempblock = $(this)\n          rightcard = true\n          $('#properties').addClass('expanded')\n          $('#propwrap').addClass('itson')\n          tempblock.addClass('selectedblock')\n        }\n      }\n      $(document).off('mouseup mousemove', handler)\n    })\n  })\n})\n"]}